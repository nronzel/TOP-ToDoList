(()=>{"use strict";class t{constructor(t,e=!1){this.title=t,this.completed=e}markComplete(){return this.completed=!0}}document.querySelector(".overlay"),document.getElementById("project"),document.getElementById("task"),document.querySelector(".modal-input.task-input"),document.querySelector(".modal-input.project-input");class e{constructor(){this.list=[]}add(t){return this.list.push(t)}remove(t){return this.list=this.list.filter((e=>e.title!==t))}get(t){return this.list.find((e=>e.title===t))}}class n extends e{constructor(t){super(),this.title=t}}const s=new e;class c{constructor(t){this.title=t,this.container=document.createElement("div"),this.header=document.createElement("div"),this.subject=document.createElement("p"),this.closeBtn=document.createElement("button"),this.input=document.createElement("input"),this.submitBtn=document.createElement("input")}initialize(){const t=document.body;this.container.classList.add("modal"),this.header.classList.add("modal-header"),this.subject.classList.add("large"),this.closeBtn.classList.add("close"),this.input.classList.add("modal-submit"),this.subject.textContent=this.title,this.closeBtn.textContent="X",this.submitBtn.textContent="Add",this.input.type="text",this.input.placeholder="Enter text here..",this.submitBtn.type="submit",this.header.append(this.subject),this.header.append(this.closeBtn),this.container.append(this.header),this.container.append(this.input),this.container.append(this.submitBtn),this.closeBtn.onclick=this.close,this.submitBtn.onclick=this.getInput,t.append(this.container)}open(){const t=document.querySelector(".overlay");this.container.classList.contains("active")||(this.container.classList.add("active"),t.classList.add("active"))}close(){document.querySelector(".close-btn");const t=document.querySelector(".overlay");this.container.classList.contains("active")&&(this.container.classList.remove("active"),t.classList.remove("active"),this.input.value="")}getInput(){return this.input.value}}const i=new c("New Project"),a=new c("New Task");i.initialize(),a.initialize();const o={newProjectBtn:document.querySelector(".new-project-btn"),projectNavList:document.querySelector(".nav-menu-list"),navBtn:document.querySelector(".nav-btn"),overlay:document.querySelector(".overlay")},l=t=>{let e=document.createElement("button");t.classList.contains("active")||(t.classList.add("active"),e.textContent="X",e.classList.add("remove-btn"),t.append(e))},r=()=>{d(),s.list.forEach((t=>{let e=document.createElement("li"),n=document.createElement("button");if(n.textContent=t.title,n.classList.add("nav-btn"),e.append(n),o.projectNavList.append(e),s.list.length<2)l(e);else{let t=o.projectNavList.firstChild;l(t)}n.onclick=u}))},d=()=>{o.projectNavList.innerHTML=""},u=t=>{const e=document.createElement("button");e.textContent="X",e.classList.add("remove-btn"),e.onclick=m,t.target.parentElement.classList.contains("active")||((()=>{const t=document.querySelectorAll(".nav-btn"),e=document.querySelectorAll(".remove-btn");t.forEach((t=>{t.parentElement.classList.remove("active")})),e.forEach((t=>{t.outerHTML=""}))})(),t.target.parentElement.append(e),t.target.parentElement.classList.add("active"))},m=t=>{let e=t.target.previousSibling.textContent;t.target.parentElement.outerHTML="",s.remove(e)};o.newProjectBtn.onclick=i.open,o.overlay.onclick=p;const p=()=>{i.close(),a.close()},h={newTaskBtn:document.querySelector(".new-task-btn"),taskList:document.querySelector(".task-list")},v=t=>{let e=t.target.previousSibling.textContent,n=t.target.parentElement.projectTitle,c=s.get(n);t.target.parentElement.outerHTML="",c.remove(e)},L=t=>{let e=t.target;e.parentElement.classList.contains("complete")?(e.src="../src/circle-in-circle.svg",e.classList.remove("complete"),e.parentElement.classList.remove("complete"),e.nextSibling.style.color="var(--white)"):(e.src="../src/circle-check.svg",e.parentElement.classList.add("complete"),e.nextSibling.style.color="#656565")},b=new n("Project1"),E=new n("Project2"),g=new n("Project3");var y;s.add(b),s.add(E),s.add(g),r(),r(),r(),b.add(new t("task1")),b.add(new t("task2")),y=b,h.taskList.innerHTML="",y.list.forEach((t=>{let e=document.createElement("div"),n=document.createElement("img"),s=document.createElement("p"),c=document.createElement("img");e.classList.add("task"),s.classList.add("task-subject"),c.classList.add("task-icon"),n.classList.add("task-icon"),n.classList.add("complete-btn"),n.src="../src/circle-in-circle.svg",n.alt="task-not-complete",c.src="../src/trash.svg",c.alt="trash-can",s.textContent=t.title,e.projectTitle=y.title,n.onclick=L,c.onclick=v,e.append(n),e.append(s),e.append(c),h.taskList.append(e)}))})();