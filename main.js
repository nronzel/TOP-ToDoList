(()=>{"use strict";class e{constructor(e,t=!1){this.title=e,this.completed=t}markComplete(){return this.completed=!0}}const t={overlay:document.querySelector(".overlay"),projModal:document.querySelector(".new-proj-modal"),projModalInput:document.querySelector(".new-project-input")},c=()=>{t.projModal.classList.remove("active"),t.overlay.classList.remove("active"),t.projModalInput.value=""};class n{constructor(){this.list=[]}add(e){return this.list.push(e)}remove(e){return this.list=this.list.filter((t=>t.title!==e))}get(e){return this.list.find((t=>t.title===e))}}class l extends n{constructor(e){super(),this.title=e}}const o=new n,a={newProjectBtn:document.querySelector(".new-project-btn"),projectNavList:document.querySelector(".nav-menu-list"),navBtn:document.querySelector(".nav-btn"),overlay:document.querySelector(".overlay"),projModal:document.querySelector(".new-proj-modal"),modalSubmit:document.querySelector(".new-project-submit"),modalInput:document.querySelector(".new-project-input"),modalCloseBtn:document.querySelector(".close")},s=e=>{let t=document.createElement("button");e.classList.contains("active")||(e.classList.add("active"),t.textContent="X",t.classList.add("remove-btn"),e.append(t))},r=()=>{i(),o.list.forEach((e=>{let t=document.createElement("li"),c=document.createElement("button");if(c.textContent=e.title,c.classList.add("nav-btn"),t.append(c),a.projectNavList.append(t),o.list.length<2)s(t);else{let e=a.projectNavList.firstChild;s(e)}c.onclick=d}))},i=()=>{a.projectNavList.innerHTML=""},d=e=>{const t=document.createElement("button");t.textContent="X",t.classList.add("remove-btn"),t.onclick=m,e.target.parentElement.classList.contains("active")||((()=>{const e=document.querySelectorAll(".nav-btn"),t=document.querySelectorAll(".remove-btn");e.forEach((e=>{e.parentElement.classList.remove("active")})),t.forEach((e=>{e.outerHTML=""}))})(),e.target.parentElement.append(t),e.target.parentElement.classList.add("active"))},m=e=>{let t=e.target.previousSibling.textContent;e.target.parentElement.outerHTML="",o.remove(t)};a.newProjectBtn.onclick=()=>{t.projModal.classList.add("active"),t.overlay.classList.add("active")},a.modalSubmit.onclick=()=>{let e=t.projModalInput.value;if(!(void 0===e||e.length<1)){let t=new l(e);o.add(t),r(),a.modalInput.value="",c()}},a.overlay.onclick=c,a.modalCloseBtn.onclick=c;const u={newTaskBtn:document.querySelector(".new-task-btn"),taskList:document.querySelector(".task-list")},p=e=>{let t=e.target.previousSibling.textContent,c=e.target.parentElement.projectTitle,n=o.get(c);e.target.parentElement.outerHTML="",n.remove(t)},v=e=>{let t=e.target;t.parentElement.classList.contains("complete")?(t.src="../src/circle-in-circle.svg",t.classList.remove("complete"),t.parentElement.classList.remove("complete"),t.nextSibling.style.color="var(--white)"):(t.src="../src/circle-check.svg",t.parentElement.classList.add("complete"),t.nextSibling.style.color="#656565")},L=new l("Project1"),j=new l("Project2"),g=new l("Project3");var y;o.add(L),o.add(j),o.add(g),r(),r(),r(),L.add(new e("task1")),L.add(new e("task2")),y=L,u.taskList.innerHTML="",console.log("cleared"),y.list.forEach((e=>{let t=document.createElement("div"),c=document.createElement("img"),n=document.createElement("p"),l=document.createElement("img");t.classList.add("task"),n.classList.add("task-subject"),l.classList.add("task-icon"),c.classList.add("task-icon"),c.classList.add("complete-btn"),c.src="../src/circle-in-circle.svg",c.alt="task-not-complete",l.src="../src/trash.svg",l.alt="trash-can",n.textContent=e.title,t.projectTitle=y.title,c.onclick=v,l.onclick=p,t.append(c),t.append(n),t.append(l),u.taskList.append(t)}))})();